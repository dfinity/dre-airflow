name: Test
description: Run battery of tests

runs:
  using: composite
  steps:
    - name: "Prepare"
      id: prep
      run: |
        make venv/bin venv/bin/mypy venv/bin/ruff venv/bin/pytest venv/lib/*/site-packages/mock
      shell: bash

    - name: "Ruff"
      id: ruff
      run: |
        make ruff
      shell: bash

    - name: "MyPy"
      id: mypy
      run: |
        make mypy
      shell: bash

    - name: "Unit tests"
      id: pytest
      run: |
        make pytest
      shell: bash
